{% extends "base.html" %} {% load static %} {% block extra_css %}
<link href="{% static 'css/dashboard.css' %}" rel="stylesheet" />
{% endblock %} {% block content %}
<div class="dashboard-container">
  <div class="row no-gutters">

    <!-- Left sidebar -->
    {% include "dashboard/sidebar.html" %}
    <main class="col-md-9">
    <div class="dashboard-content">
    <div class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title-dashboard">My Posts</h2>
      </div>

      <div class="posts-list">
        {% for post in my_posts %}
        <div class="post-item-dashboard">
          <div
            class="post-item-image"
            style="background-image: url({% if post.featured_image %}{{ post.featured_image.url }}{% else %}https://via.placeholder.com/120x80{% endif %});"
          ></div>
          <div class="post-item-content">
            <h4 class="post-item-title">{{ post.title }}</h4>
            <div class="post-item-meta">
              <span
                class="post-status {% if post.status == 'published' %}published{% else %}draft{% endif %}"
                >{{ post.status }}</span
              >
              <span class="meta-separator">â€¢</span>
              <span>{{ post.updated_at|timesince }} ago</span>
            </div>
          </div>
          <div class="post-item-actions">
            <button class="action-icon-btn">
              <a href="{% url 'edit_post' post.id %}">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
            </a>
            </button>
            <button class="action-icon-btn">
              <a href="{% url 'delete_post' post.id %}">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
              </a>
            </button>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </main>
</div>

  </div>
</div>
{% endblock %}
